# 开发指导

## 命令

```bash
npm run dev          # 前端开发 (Vite)
npm run dev:auto     # 自动同步 KV + 启动开发服务器
npm run dev:remote   # 直连远程 KV 开发
npm run kv:import    # 从远程 KV 导入到本地
npm run kv:export    # 从本地导出到远程 KV (自动备份)
npm run build        # 构建
npm run deploy       # 部署到 Cloudflare
```

## KV 接口

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | `/api/kv` | 列出所有 key |
| GET | `/api/kv/:key` | 获取单个值 |
| PUT | `/api/kv/:key` | 设置值 (body: `{"value":"xxx"}`) |
| DELETE | `/api/kv/:key` | 删除值 |
| POST | `/api/kv/sync` | 同步所有远程数据 |

## 使用示例

```bash
# 列出所有 keys
curl http://localhost:8787/api/kv

# 获取值
curl http://localhost:8787/api/kv/mykey

# 设置值
curl -X PUT http://localhost:8787/api/kv/mykey -H "Content-Type: application/json" -d "{\"value\":\"hello\"}"

# 删除值
curl -X DELETE http://localhost:8787/api/kv/mykey

# 同步远程数据
curl -X POST http://localhost:8787/api/kv/sync
```
